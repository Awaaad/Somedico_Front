<form [formGroup]="addProductForm">
  <div formArrayName="products" *ngFor="let product of productsFields.controls; let i = index">
    <div [formGroupName]="i">
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-input formControlName="productName" placeholder="Product Name" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="description" placeholder="Description" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="dosage" placeholder="Dosage" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="category" placeholder="Category" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="box" placeholder="Box" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="unitsPerBox" placeholder="Units Per Box" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="unitsTotal" placeholder="Total Units" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="pricePerBox" placeholder="Price Per Box" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="pricePerUnit" placeholder="Price Per Unit" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input formControlName="requirePrescription" placeholder="Require Prescription" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col formGroupName="supplier">
          <ion-item>
            <ion-input formControlName="supplierId" placeholder="Supplier Id" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <!-- <ion-col formGroupName="supplier">
          <ion-item>
            <ion-input formControlName="supplierName" placeholder="Supplier Name" type="text"></ion-input>
          </ion-item>
        </ion-col> -->
        <div *ngIf="productsFields.length > 1" class="remove-item">
          <ion-icon (click)="removeProduct(i)" class="delete-product-btn" name="trash"></ion-icon>
        </div>
      </ion-row>
    </div>
  </div>
  <div class="action-button">
    <ion-button (click)="addProduct()" class="add-product-btn" color="danger">Add Product</ion-button>
    <ion-button (click)="onSubmit()" class="submit-btn" color="secondary">Save</ion-button>
  </div>
</form>

